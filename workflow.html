<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TubeKit AI - Channel Factory</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.cravveo.com/workflow.html">
    <meta property="og:title" content="AI ìœ íŠœë¸Œ ì±„ë„ ìƒì„± ê³µì¥ | ì›í´ë¦­ ê¸°íš">
    <meta property="og:description" content="AIê°€ ì±„ë„ëª…ë¶€í„° ë¡œê³ , ë°°ë„ˆ, ëŒ€ë³¸ê¹Œì§€ í•œ ë²ˆì— ìƒì„±í•´ì£¼ëŠ” ìë™í™” ê³µì¥ì…ë‹ˆë‹¤.">
    <meta property="og:image"
        content="https://images.unsplash.com/photo-1598550476439-6847785fcea6?auto=format&fit=crop&q=80&w=1200">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="workflow.css">
</head>

<body>
    <!-- Header -->
    <header>
        <div class="logo-area">
            <a href="/" style="color:#aaa; text-decoration:none; font-size:0.85rem; margin-right:15px;">â† í™ˆìœ¼ë¡œ</a>
            <a href="/workflow.html"
                style="color:white; text-decoration:none; display:flex; align-items:center; gap:8px;">
                <i class="fas fa-video" style="color:#FF0000;"></i> <span style="font-weight:700;">TubeKit Studio</span>
            </a>
        </div>

        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <div class="nav-tab active" id="tab-channel" onclick="switchMode('channel')">
                <i class="fas fa-tv"></i> ì±„ë„ ìŠ¤íŠœë””ì˜¤
            </div>
            <div class="nav-tab" id="tab-video" onclick="switchMode('video')">
                <i class="fas fa-film"></i> ì˜ìƒ ìŠ¤íŠœë””ì˜¤
            </div>
        </div>

        <div class="actions">
            <button id="api-settings-btn" class="btn-api"><i class="fas fa-cog"></i> API</button>
            <div id="google_translate_element"></div>
            <button class="btn-primary" id="run-workflow-btn"><i class="fas fa-play"></i> ì‹¤í–‰</button>
            <button class="btn-secondary" onclick="showExportModal()"><i class="fas fa-file-alt"></i> ì €ì¥</button>
        </div>
    </header>

    <!-- Main Workspace -->
    <div class="workspace">
        <!-- Floating Toolbar (Draggable Nodes) -->
        <div class="floating-toolbar">
            <div class="toolbar-header">
                <i class="fas fa-toolbox"></i> ë„êµ¬ ìƒì
            </div>

            <div class="toolbar-section">
                <div class="section-title">ğŸ†” ì•„ì´ë´í‹°í‹°</div>
                <div class="toolbar-item" draggable="true" data-type="channel-name">
                    <i class="fas fa-signature" style="color: #FF6B6B;"></i> ì±„ë„ëª… ìƒì„±
                </div>
                <div class="toolbar-item" draggable="true" data-type="channel-handle">
                    <i class="fas fa-at" style="color: #FF8787;"></i> í•¸ë“¤(@) ìƒì„±
                </div>
                <div class="toolbar-item" draggable="true" data-type="target-audience">
                    <i class="fas fa-users" style="color: #FFA5A5;"></i> íƒ€ê²Ÿ ë¶„ì„
                </div>
            </div>

            <div class="toolbar-section">
                <div class="section-title">ğŸ¨ ë¹„ì£¼ì–¼</div>
                <div class="toolbar-item" draggable="true" data-type="profile-pic">
                    <i class="fas fa-user-circle" style="color: #4ECDC4;"></i> í”„ë¡œí•„ í”„ë¡¬í”„íŠ¸
                </div>
                <div class="toolbar-item" draggable="true" data-type="banner-image">
                    <i class="fas fa-image" style="color: #45B7AF;"></i> ë°°ë„ˆ ê¸°íš
                </div>
            </div>

            <div class="toolbar-section">
                <div class="section-title">ğŸ“ ì½˜í…ì¸ </div>
                <div class="toolbar-item" draggable="true" data-type="topic-research">
                    <i class="fas fa-search" style="color: #FFE66D;"></i> ì£¼ì œ ì—°êµ¬
                </div>
                <div class="toolbar-item" draggable="true" data-type="video-metadata">
                    <i class="fas fa-video" style="color: #FFD93D;"></i> ì˜ìƒ ë©”íƒ€ë°ì´í„°
                </div>
                <div class="toolbar-item" draggable="true" data-type="script-gen">
                    <i class="fas fa-file-alt" style="color: #F7C948;"></i> ëŒ€ë³¸ ìƒì„±
                </div>
            </div>

            <div class="toolbar-section">
                <div class="section-title">ğŸŒ ê¸€ë¡œë²Œ</div>
                <div class="toolbar-item" draggable="true" data-type="translator">
                    <i class="fas fa-language" style="color: #A06CD5;"></i> ë²ˆì—­ê¸°
                </div>
            </div>

            <div class="toolbar-section">
                <div class="section-title">âš™ï¸ ìœ íŠœë¸Œ ì„¤ì •</div>
                <div class="toolbar-item" draggable="true" data-type="settings-general">
                    <i class="fas fa-cog" style="color: #95A5A6;"></i> ì¼ë°˜ (í†µí™”)
                </div>
                <div class="toolbar-item" draggable="true" data-type="settings-channel">
                    <i class="fas fa-info-circle" style="color: #BDC3C7;"></i> ì±„ë„ ì •ë³´
                </div>
                <div class="toolbar-item" draggable="true" data-type="settings-upload">
                    <i class="fas fa-upload" style="color: #7F8C8D;"></i> ì—…ë¡œë“œ ê¸°ë³¸ê°’
                </div>
            </div>
        </div>

        <!-- Canvas -->
        <div id="canvas-container" class="canvas-container">
            <div id="nodes-layer" class="layer nodes-layer">
                <!-- Nodes will be injected here -->
            </div>
            <svg id="connections-layer" class="layer connections-layer">
                <!-- Connections will be drawn here -->
            </svg>
            <div class="grid-background"></div>
        </div>

        <!-- Right Sidebar (Properties) -->
        <div class="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-sliders-h"></i> ë…¸ë“œ ì„¤ì •
            </div>
            <div id="properties-content" class="sidebar-content">
                <div class="empty-state">
                    <i class="fas fa-mouse-pointer"></i>
                    <p>ë…¸ë“œë¥¼ ì„ íƒí•˜ë©´<br>ì„¤ì •ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- API Settings Modal -->
    <div id="api-modal" class="modal hidden">
        <div class="modal-content" style="background: #2D2D2D; color: #EEE; border: 1px solid #444;">
            <div class="modal-header" style="border-bottom: 1px solid #444;">
                <h3>ğŸ”‘ API í‚¤ ì„¤ì •</h3>
                <button type="button" class="modal-close" id="close-api-modal" style="color: #AAA;">&times;</button>
            </div>
            <div class="modal-body">
                <p style="font-size: 0.9rem; color: #AAA; margin-bottom: 20px;">
                    ì…ë ¥í•œ API í‚¤ëŠ” ë¸Œë¼ìš°ì € ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì•ˆì „í•˜ê²Œ ì €ì¥ë˜ë©°, ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                </p>

                <div class="form-group" style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; color: #4aaef5;">ğŸ¤– Gemini API Key</label>
                    <input type="password" id="gemini-key" placeholder="AIza..."
                        style="width: 100%; padding: 8px; background: #333; border: 1px solid #555; color: white; border-radius: 4px;">
                </div>

                <div class="form-group" style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; color: #19c37d;">ğŸ’¬ ChatGPT API Key</label>
                    <input type="password" id="chatgpt-key" placeholder="sk-..."
                        style="width: 100%; padding: 8px; background: #333; border: 1px solid #555; color: white; border-radius: 4px;">
                </div>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 5px; color: #d97757;">ğŸ§  Claude API Key</label>
                    <input type="password" id="claude-key" placeholder="sk-ant-..."
                        style="width: 100%; padding: 8px; background: #333; border: 1px solid #555; color: white; border-radius: 4px;">
                </div>

                <div style="display: flex; gap: 10px; justify-content: flex-end;">
                    <button id="save-api-keys" class="btn-primary" style="background: #4aaef5;">ì €ì¥í•˜ê¸°</button>
                    <button id="clear-api-keys" class="btn-secondary"
                        style="background: #e74c3c; border: none; color: white;">ì´ˆê¸°í™”</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Shared Styles for Modal (Quick Inject) -->
    <style>
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal.hidden {
            display: none;
        }

        .modal-content {
            background: #2D2D2D;
            padding: 20px;
            border-radius: 8px;
            width: 400px;
            max-width: 90%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
        }
    </style>

    <!-- ì˜ìƒ ìŠ¤íŠœë””ì˜¤ ì…ë ¥ ëª¨ë‹¬ -->
    <div id="video-input-modal" class="hidden"
        style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 10000; display: none; align-items: center; justify-content: center;">
        <div
            style="background: #1e1e1e; border-radius: 16px; width: 90%; max-width: 450px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); overflow: hidden;">
            <div
                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 25px; text-align: center;">
                <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ¬</div>
                <h2 style="color: white; margin: 0; font-size: 1.4rem;">ì˜ìƒ ìŠ¤íŠœë””ì˜¤ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</h2>
                <p style="color: rgba(255,255,255,0.8); margin: 10px 0 0; font-size: 0.9rem;">ì–´ë–¤ ì±„ë„ì˜ ì˜ìƒì„ ê¸°íší• ê¹Œìš”?</p>
            </div>
            <div style="padding: 25px;">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; color: #aaa; font-size: 0.85rem; margin-bottom: 8px;">ì±„ë„ ì£¼ì œ /
                        ì±„ë„ëª…</label>
                    <input type="text" id="video-channel-topic" placeholder="ì˜ˆ: í¸ì˜ì  ë¦¬ë·°, ê²Œì„ ì‹¤í™©, ë¨¹ë°©"
                        style="width: 100%; padding: 14px; border: 2px solid #3a3a3a; border-radius: 8px; background: #2a2a2a; color: white; font-size: 1rem; box-sizing: border-box;">
                </div>
                <div style="margin-bottom: 20px;">
                    <label style="display: block; color: #aaa; font-size: 0.85rem; margin-bottom: 8px;">íƒ€ê²Ÿ ì‹œì²­ì
                        (ì„ íƒ)</label>
                    <input type="text" id="video-target-audience" placeholder="ì˜ˆ: 20ëŒ€ ìì·¨ìƒ, ì•¼ì‹ëŸ¬"
                        style="width: 100%; padding: 14px; border: 2px solid #3a3a3a; border-radius: 8px; background: #2a2a2a; color: white; font-size: 1rem; box-sizing: border-box;">
                </div>
                <button id="video-modal-start"
                    style="width: 100%; padding: 14px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: bold; cursor: pointer; transition: transform 0.2s;">
                    ì‹œì‘í•˜ê¸° ğŸš€
                </button>
                <p style="text-align: center; margin-top: 15px;">
                    <button id="video-modal-skip"
                        style="color: #888; background: none; border: none; cursor: pointer; font-size: 0.85rem;">
                        ê±´ë„ˆë›°ê¸° (ì¼ë°˜ ì±„ë„ë¡œ ì‹œì‘)
                    </button>
                </p>
            </div>
        </div>
    </div>

    <!-- API Client (Shared) -->
    <script src="api-client.js"></script>
    <!-- Core Engine -->
    <script src="workflow.js"></script>

    <!-- Google Translate Widget -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'ko',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript"
        src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>

</html>
